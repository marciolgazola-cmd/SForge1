# ğŸ—ï¸ ARQUITETURA E DIAGRAMAS - SForge1 v2.0

## ğŸ“ Diagrama de Arquitetura Geral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COGNITOLINK v2.0                            â”‚
â”‚                  (Streamlit Frontend)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ INTERFACE CAMADAS                                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  1. ENTRADA DE REQUISITOS                              â”‚   â”‚
â”‚  â”‚     â”œâ”€ cognitolink.py (linhas 107-130)                â”‚   â”‚
â”‚  â”‚     â”œâ”€ Form vazio + validaÃ§Ã£o                          â”‚   â”‚
â”‚  â”‚     â””â”€ Help text + emojis                              â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  2. CENTRAL DE APROVAÃ‡Ã•ES                              â”‚   â”‚
â”‚  â”‚     â”œâ”€ cognitolink.py (linhas 159-280)                â”‚   â”‚
â”‚  â”‚     â”œâ”€ Abas: Pendentes, Aprovadas, Rejeitadas         â”‚   â”‚
â”‚  â”‚     â”œâ”€ Editor de proposta incorporado                 â”‚   â”‚
â”‚  â”‚     â””â”€ BotÃµes: Aprovar, Rejeitar, Editar             â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  3. GESTÃƒO DE PROJETOS                                 â”‚   â”‚
â”‚  â”‚     â”œâ”€ cognitolink.py (linhas 773-950)                â”‚   â”‚
â”‚  â”‚     â”œâ”€ MÃ©tricas em cards                               â”‚   â”‚
â”‚  â”‚     â”œâ”€ Abas: Detalhes, Proposta, Editar              â”‚   â”‚
â”‚  â”‚     â””â”€ Editor unificado                                â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ TEMA E ESTILO (streamlit_theme.py)                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â”œâ”€ apply_custom_theme()                                 â”‚   â”‚
â”‚  â”‚ â”œâ”€ CSS customizado para Streamlit                      â”‚   â”‚
â”‚  â”‚ â”œâ”€ format_currency(), format_status()                  â”‚   â”‚
â”‚  â”‚ â””â”€ create_card() e funÃ§Ãµes de animaÃ§Ã£o                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚
                    â†“                 â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ STREAMLIT CSS  â”‚  â”‚ Imports:          â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ style.css      â”‚  â”‚ - MOAI Backend    â”‚
         â”‚ (~400 linhas)  â”‚  â”‚ - data_models.py  â”‚
         â”‚                â”‚  â”‚ - llm_simulator   â”‚
         â”‚ âœ¨ Gradients   â”‚  â”‚ - streamlit_theme â”‚
         â”‚ âœ¨ AnimaÃ§Ãµes   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ¨ Cores       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de GeraÃ§Ã£o de Proposta (ValidaÃ§Ã£o 3 Camadas)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USUÃRIO                                                    â”‚
â”‚  Preenche formulÃ¡rio em CognitoLink                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“ (req_data: dict com strings)
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ CAMADA 1: STREAMLIT       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ cognitolink.py            â”‚
         â”‚ linhas: 115-140           â”‚
         â”‚                           â”‚
         â”‚ âœ“ ValidaÃ§Ã£o local         â”‚
         â”‚ âœ“ Verifica obrigatÃ³rios   â”‚
         â”‚ âœ“ Exibe erro se vazio     â”‚
         â”‚ âœ“ .strip() para limpeza   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ (req_data vÃ¡lido)
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ CAMADA 2: ANP AGENT       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ agent_anp.py              â”‚
         â”‚ linhas: 90-106            â”‚
         â”‚                           â”‚
         â”‚ âœ“ generate_proposal()     â”‚
         â”‚ âœ“ Processa com LLM        â”‚
         â”‚ âœ“ Cria dict com None      â”‚
         â”‚ âœ“ Converte None â†’ ""      â”‚
         â”‚   ("field" or "")         â”‚
         â”‚                           â”‚
         â”‚ Retorna dict garantindo:  â”‚
         â”‚ {"title": str,            â”‚
         â”‚  "description": str,      â”‚
         â”‚  ...}                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ (proposal_dict: todas strings)
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ CAMADA 3: MOAI BACKEND    â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ MOAI.py                   â”‚
         â”‚ linhas: 314-327           â”‚
         â”‚                           â”‚
         â”‚ âœ“ create_proposal()       â”‚
         â”‚ âœ“ Recebe dict do ANP      â”‚
         â”‚ âœ“ Usa fallback: value or ""
         â”‚ âœ“ Cria objeto Proposal    â”‚
         â”‚                           â”‚
         â”‚ ValidaÃ§Ãµes finais:        â”‚
         â”‚ - title: str (obrigatÃ³rio)â”‚
         â”‚ - description: str        â”‚
         â”‚ - problem_understanding:  â”‚
         â”‚   str (obrigatÃ³rio)       â”‚
         â”‚ ... (todos strings)       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ (Proposal validado por Pydantic)
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ PYDANTIC VALIDATION       â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ data_models.py            â”‚
         â”‚ Proposal model            â”‚
         â”‚                           â”‚
         â”‚ âœ“ Valida tipos            â”‚
         â”‚ âœ“ Rejeita None para str   â”‚
         â”‚ âœ“ Aceita apenas strings   â”‚
         â”‚                           â”‚
         â”‚ âœ… ValidaÃ§Ã£o PASSA        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ (Proposal armazenado)
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ BANCO DE DADOS            â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ synapse_forge.db          â”‚
         â”‚ (SQLite)                  â”‚
         â”‚                           â”‚
         â”‚ âœ“ Insere Proposal         â”‚
         â”‚ âœ“ Retorna ID              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ (Proposta salva)
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ STREAMLIT RESPOSTA        â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ cognitolink.py            â”‚
         â”‚ linhas: 140-145           â”‚
         â”‚                           â”‚
         â”‚ âœ… Proposta gerada!       â”‚
         â”‚ â†’ Redirecionado para      â”‚
         â”‚   Central de AprovaÃ§Ãµes   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Estrutura de Tabelas (Banco de Dados)

```txt
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SYNAPSE_FORGE.DB (SQLite3)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  â”Œâ”€ TABLE: proposals                        â”‚
â”‚  â”‚  â”œâ”€ id: UUID (PK)                        â”‚
â”‚  â”‚  â”œâ”€ title: VARCHAR                       â”‚
â”‚  â”‚  â”œâ”€ description: TEXT                    â”‚
â”‚  â”‚  â”œâ”€ problem_understanding_moai: TEXT     â”‚
â”‚  â”‚  â”œâ”€ solution_proposal_moai: TEXT         â”‚
â”‚  â”‚  â”œâ”€ scope_moai: TEXT                     â”‚
â”‚  â”‚  â”œâ”€ technologies_suggested_moai: TEXT    â”‚
â”‚  â”‚  â”œâ”€ estimated_value_moai: FLOAT          â”‚
â”‚  â”‚  â”œâ”€ estimated_time_moai: VARCHAR         â”‚
â”‚  â”‚  â”œâ”€ terms_conditions_moai: TEXT          â”‚
â”‚  â”‚  â”œâ”€ status: VARCHAR (pending/...)        â”‚
â”‚  â”‚  â”œâ”€ created_at: DATETIME                 â”‚
â”‚  â”‚  â””â”€ updated_at: DATETIME                 â”‚
â”‚  â”‚                                          â”‚
â”‚  â”œâ”€ TABLE: projects                         â”‚
â”‚  â”‚  â”œâ”€ id: UUID (PK)                        â”‚
â”‚  â”‚  â”œâ”€ name: VARCHAR                        â”‚
â”‚  â”‚  â”œâ”€ client_name: VARCHAR                 â”‚
â”‚  â”‚  â”œâ”€ proposal_id: UUID (FK)               â”‚
â”‚  â”‚  â”œâ”€ status: VARCHAR                      â”‚
â”‚  â”‚  â”œâ”€ progress: INTEGER (0-100)            â”‚
â”‚  â”‚  â”œâ”€ started_at: DATETIME                 â”‚
â”‚  â”‚  â”œâ”€ completed_at: DATETIME (NULL)        â”‚
â”‚  â”‚  â””â”€ created_at: DATETIME                 â”‚
â”‚  â”‚                                          â”‚
â”‚  â””â”€ Outras tabelas...                       â”‚
â”‚     (documentation, chat_messages, etc)     â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Paleta de Cores

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         TEMA COGNITOLINK V2.0             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  PRIMARY                                 â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #1081BA  (Azul Principal)         â”‚
â”‚                                          â”‚
â”‚  PRIMARY_DARK                            â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #0E6DA0  (Azul Escuro)           â”‚
â”‚                                          â”‚
â”‚  PRIMARY_LIGHT                           â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #1AA4FF  (Azul Claro)            â”‚
â”‚                                          â”‚
â”‚  SUCCESS                                 â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #51CF66  (Verde)                  â”‚
â”‚                                          â”‚
â”‚  ACCENT (DANGER)                         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #FF6B6B  (Vermelho)               â”‚
â”‚                                          â”‚
â”‚  WARNING                                 â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #FFD43B  (Amarelo)                â”‚
â”‚                                          â”‚
â”‚  BG_DARK                                 â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #16171C  (Preto/Fundo)            â”‚
â”‚                                          â”‚
â”‚  BG_SECONDARY                            â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #2D3038  (Cinza Escuro)           â”‚
â”‚                                          â”‚
â”‚  TEXT_LIGHT                              â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #AFB1B0  (Cinza Claro)            â”‚
â”‚                                          â”‚
â”‚  TEXT_PRIMARY                            â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆ #FFFFFF  (Branco)                 â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Componentes UI Melhorados

### 1. Card Component
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š Progresso: 65%          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  65%          â”‚
â”‚                                 â”‚
â”‚ Ãšltima atualizaÃ§Ã£o: hoje        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Tabbed Interface
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â³ Pendentes (5) âœ… Aprovadas (8) â”‚
â”‚ âŒ Rejeitadas (2)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ [Proposta 1]  [BotÃµes de aÃ§Ã£o]  â”‚
â”‚ [Proposta 2]  [BotÃµes de aÃ§Ã£o]  â”‚
â”‚ [Proposta 3]  [BotÃµes de aÃ§Ã£o]  â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Form Group
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ### ğŸ“‹ SeÃ§Ã£o BÃ¡sica             â”‚
â”‚                                 â”‚
â”‚ ğŸ¢ Nome do Projeto *            â”‚
â”‚ [________________________]      â”‚
â”‚                                 â”‚
â”‚ ğŸ‘¤ Nome do Cliente *            â”‚
â”‚ [________________________]      â”‚
â”‚                                 â”‚
â”‚ ğŸ¯ PÃºblico-alvo                 â”‚
â”‚ [________________________]      â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Fluxo de EdiÃ§Ã£o de Projeto

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UsuÃ¡rio em: GestÃ£o de Proj   â”‚
â”‚ Clica: âœï¸ Editar              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Aba: âœï¸ Editar   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€ SeÃ§Ã£o: ğŸ“ Dados BÃ¡sicos
             â”‚  â”œâ”€ Nome do Projeto
             â”‚  â”œâ”€ Nome do Cliente
             â”‚  â”œâ”€ Status (select)
             â”‚  â””â”€ Progresso (slider)
             â”‚
             â””â”€ SeÃ§Ã£o: ğŸ”§ Proposta
                â”œâ”€ TÃ­tulo
                â”œâ”€ Problema
                â”œâ”€ SoluÃ§Ã£o
                â”œâ”€ Escopo
                â”œâ”€ Tecnologias
                â”œâ”€ Estimativas
                â””â”€ Termos
           â”‚
           â†“ (Clica: ğŸ’¾ Salvar)
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ MOAI Backendâ”‚
      â”‚ (MOAI.py)   â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ Update projeto
           â”œâ”€ Update proposta
           â””â”€ Return: OK
           â”‚
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… Atualizado   â”‚
    â”‚ PÃ¡gina recarregaâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ValidaÃ§Ã£o de Entrada - Camadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT VALIDATION LAYERS                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ LAYER 1: Frontend (Streamlit)                   â”‚
â”‚ â”œâ”€ Check empty fields                          â”‚
â”‚ â”œâ”€ Show error if empty                         â”‚
â”‚ â””â”€ Don't send if invalid                       â”‚
â”‚                                                 â”‚
â”‚ LAYER 2: Processing (ANP Agent)                â”‚
â”‚ â”œâ”€ Process request with LLM                    â”‚
â”‚ â”œâ”€ Get result dict (potentially with None)     â”‚
â”‚ â”œâ”€ Convert: None â†’ "" (for all string fields)  â”‚
â”‚ â””â”€ Return guaranteed string values             â”‚
â”‚                                                 â”‚
â”‚ LAYER 3: Orchestration (MOAI Backend)          â”‚
â”‚ â”œâ”€ Receive processed dict                      â”‚
â”‚ â”œâ”€ Use fallback: value or ""                   â”‚
â”‚ â”œâ”€ Create Proposal object                      â”‚
â”‚ â””â”€ Pydantic validates types                    â”‚
â”‚                                                 â”‚
â”‚ LAYER 4: Database (Pydantic/SQLite)            â”‚
â”‚ â”œâ”€ Final validation by Pydantic                â”‚
â”‚ â”œâ”€ Reject if None for required str             â”‚
â”‚ â”œâ”€ Store valid data                            â”‚
â”‚ â””â”€ Return success/failure                      â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Responsividade

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       DESKTOP (1920px)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Col 1     â”‚   Col 2    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚   Col 3     â”‚   Col 4    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     TABLET (768px)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Col 1/2         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚      Col 3/4         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MOBILE (480px)â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Col 1    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚   Col 2    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚   Col 3    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚   Col 4    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        PRODUCTION DEPLOYMENT          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Streamlit Application          â”‚ â”‚
â”‚  â”‚  (cognitolink.py)               â”‚ â”‚
â”‚  â”‚  â”œâ”€ Flask/Uvicorn running       â”‚ â”‚
â”‚  â”‚  â””â”€ Port 8501                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Backend Services                â”‚ â”‚
â”‚  â”‚  â”œâ”€ MOAI (orchestrator)          â”‚ â”‚
â”‚  â”‚  â”œâ”€ ANP Agent (processor)        â”‚ â”‚
â”‚  â”‚  â””â”€ Other Agents (10 total)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LLM Services (Ollama)           â”‚ â”‚
â”‚  â”‚  â”œâ”€ llama3 (port 11434)         â”‚ â”‚
â”‚  â”‚  â”œâ”€ mistral                     â”‚ â”‚
â”‚  â”‚  â””â”€ codellama                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚               â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Data Layer                      â”‚ â”‚
â”‚  â”‚  â””â”€ synapse_forge.db (SQLite3)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š ReferÃªncia RÃ¡pida de Arquivos

```
SForge1/
â”œâ”€â”€ cognitolink.py              (Main app - 1000+ linhas)
â”‚   â”œâ”€ requirements_entry_page()
â”‚   â”œâ”€ approvals_center_page()
â”‚   â”œâ”€ project_management_page()
â”‚   â””â”€ Outras pages (dashboard, chat, docs, etc)
â”‚
â”œâ”€â”€ streamlit_theme.py          (NOVO - 400 linhas)
â”‚   â”œâ”€ apply_custom_theme()
â”‚   â”œâ”€ format_currency()
â”‚   â”œâ”€ format_status()
â”‚   â””â”€ CSS customizado
â”‚
â”œâ”€â”€ style.css                   (Melhorado - 300+ linhas)
â”‚   â”œâ”€ CSS Variables
â”‚   â”œâ”€ Componentes
â”‚   â”œâ”€ AnimaÃ§Ãµes
â”‚   â””â”€ Responsividade
â”‚
â”œâ”€â”€ MOAI.py                     (Backend - modificado)
â”‚   â””â”€ create_proposal() - Fallback operator (or "")
â”‚
â”œâ”€â”€ agent_anp.py                (Agent - modificado)
â”‚   â””â”€ generate_proposal_content() - None â†’ ""
â”‚
â”œâ”€â”€ data_models.py              (Models - sem mudanÃ§as)
â”‚   â””â”€ Proposal model (str fields)
â”‚
â””â”€â”€ DocumentaÃ§Ã£o:
    â”œâ”€â”€ MELHORIAS_INTERFACE_V1.md  (TÃ©cnica)
    â”œâ”€â”€ CHECKLIST_TESTES.md         (Testes)
    â”œâ”€â”€ GUIA_USUARIO.md             (Como usar)
    â”œâ”€â”€ RESUMO_EXECUTIVO.md         (VisÃ£o geral)
    â””â”€â”€ ARQUITETURA_DIAGRAMAS.md    (Este arquivo)
```

---

**Diagrama Atualizado**: 2024
**VersÃ£o**: 2.0
**Compatibilidade**: Python 3.12+, Streamlit 1.52.0+, Pydantic 2.12+

